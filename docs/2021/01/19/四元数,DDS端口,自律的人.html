<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.21.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>å››å…ƒæ•°,DDSç«¯å£,è‡ªå¾‹çš„äºº - æ¯æ—¥é˜…è¯»</title>
<meta name="description" content="æ¬§æ‹‰è§’ã€å››å…ƒæ•°ã€æ—‹è½¬çŸ©é˜µæ¨å¯¼åŠç›¸äº’å…³ç³»">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="æ¯æ—¥é˜…è¯»">
<meta property="og:title" content="å››å…ƒæ•°,DDSç«¯å£,è‡ªå¾‹çš„äºº">
<meta property="og:url" content="https://zzmfish.github.io/DailyRead/2021/01/19/%E5%9B%9B%E5%85%83%E6%95%B0,DDS%E7%AB%AF%E5%8F%A3,%E8%87%AA%E5%BE%8B%E7%9A%84%E4%BA%BA.html">


  <meta property="og:description" content="æ¬§æ‹‰è§’ã€å››å…ƒæ•°ã€æ—‹è½¬çŸ©é˜µæ¨å¯¼åŠç›¸äº’å…³ç³»">







  <meta property="article:published_time" content="2021-01-19T00:00:00+08:00">






<link rel="canonical" href="https://zzmfish.github.io/DailyRead/2021/01/19/%E5%9B%9B%E5%85%83%E6%95%B0,DDS%E7%AB%AF%E5%8F%A3,%E8%87%AA%E5%BE%8B%E7%9A%84%E4%BA%BA.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://zzmfish.github.io/DailyRead/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link rel="icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>

<link href="/DailyRead/feed.xml" type="application/atom+xml" rel="alternate" title="æ¯æ—¥é˜…è¯» Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/DailyRead/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--post">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/DailyRead/">
          ğŸ“–æ¯æ—¥é˜…è¯»
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  


  <div class="archive">
    <!--
    
      <h1 id="page-title" class="page__title">å››å…ƒæ•°,DDSç«¯å£,è‡ªå¾‹çš„äºº</h1>
    
    -->
    <small>
  <i class="far fa-calendar-alt" aria-hidden="true"></i>
  <time datetime="2021-01-19T00:00:00+08:00">Jan 19, 2021</time>
</small>

<h2 id="æ¬§æ‹‰è§’å››å…ƒæ•°æ—‹è½¬çŸ©é˜µæ¨å¯¼åŠç›¸äº’å…³ç³»">æ¬§æ‹‰è§’ã€å››å…ƒæ•°ã€æ—‹è½¬çŸ©é˜µæ¨å¯¼åŠç›¸äº’å…³ç³»</h2>

<h4 id="æ—‹è½¬ä¸æ—‹è½¬çŸ©é˜µ">æ—‹è½¬ä¸æ—‹è½¬çŸ©é˜µ</h4>

<h6 id="2dæ—‹è½¬">2Dæ—‹è½¬</h6>

<p>ä¸å³æ‰‹ç³»æ—‹è½¬æ–¹å‘ç›¸åŒçš„ä¸º<strong>æ—‹è½¬æ­£æ–¹å‘</strong></p>

<p>äºŒç»´å¹³é¢å†…æ—‹è½¬</p>

\[\left(
    \begin{matrix}
    	x' \\
    	y'
    \end{matrix}
\right)
=
\left(
    \begin{matrix}
    	cosÎ± &amp; âˆ’sinÎ±\\
    	sinÎ± &amp; cosÎ±
    \end{matrix}
\right)
\left(
    \begin{matrix}
    	x \\
    	y
    \end{matrix}
\right)\]

<h6 id="3dæ—‹è½¬">3Dæ—‹è½¬</h6>

<p>ç»•Zè½´æ—‹è½¬Î±è§’
\(\left(
    \begin{matrix}
    	x' \\
    	y' \\
    	z
    \end{matrix}
\right)
=
\left(
    \begin{matrix}
    	cosÎ± &amp; âˆ’sinÎ± &amp; 0\\
    	sinÎ± &amp; cosÎ± &amp; 0 \\
    	0 &amp; 0 &amp; 1
    \end{matrix}
\right)
\left(
    \begin{matrix}
    	x \\
    	y \\
    	z
    \end{matrix}
\right)\)</p>

<p>æ—‹è½¬çŸ©é˜µ
\(R_z(Î±)=
\left(
    \begin{matrix}
    	cosÎ± &amp; âˆ’sinÎ± &amp; 0\\
    	sinÎ± &amp; cosÎ± &amp; 0 \\
    	0 &amp; 0 &amp; 1
    \end{matrix}
\right)\)
ç»•Xè½´çš„æ—‹è½¬çŸ©é˜µ</p>

\[R_x(Î±)=
\left(
    \begin{matrix}
    	1 &amp; 0 &amp; 0\\
    	0 &amp; cosÎ± &amp; -sinÎ± \\
    	0 &amp; sinÎ± &amp; cosÎ±
    \end{matrix}
\right)\]

<p>ç»•Yè½´çš„æ—‹è½¬çŸ©é˜µ
\(R_y(Î±)=
\left(
    \begin{matrix}
    	cosÎ± &amp; 0 &amp; sinÎ±\\
    	0 &amp; 1 &amp; 0 \\
    	-sinÎ± &amp; 0 &amp; cosÎ±
    \end{matrix}
\right)\)</p>

<h4 id="æ¬§æ‹‰è§’">æ¬§æ‹‰è§’</h4>

<p>æ¬§æ‹‰è§’ç”¨äºæè¿°<code class="language-plaintext highlighter-rouge">æŸä¸ªç‰©ä½“åœ¨åæ ‡ç³»ä¸­çš„å§¿æ€</code>ã€‚</p>

<ul>
  <li>
    <p><strong>ç¿»æ»š</strong>ï¼ˆRollï¼‰ç»•Xè½´</p>
  </li>
  <li>
    <p><strong>ä¿¯ä»°</strong>ï¼ˆPitchï¼‰ç»•Yè½´</p>
  </li>
  <li>
    <p><strong>åèˆª</strong>ï¼ˆYawï¼‰ç»•Zè½´</p>
  </li>
</ul>

<p>æœ‰ä¸¤ç§æ—‹è½¬æ–¹å¼ï¼Œæ—‹è½¬çŸ©é˜µæ˜¯ä¸€æ ·çš„ï¼š</p>

<ul>
  <li>
    <p><strong>ç»•å›ºå®šï¼ˆå‚è€ƒï¼‰åæ ‡è½´æ—‹</strong></p>
  </li>
  <li>
    <p><strong>ç»•è‡ªèº«åæ ‡è½´æ—‹è½¬</strong></p>
  </li>
</ul>

<h4 id="å››å…ƒæ•°">å››å…ƒæ•°</h4>

<p>\(q=q_0+q_1 i+q_2 j + q_3 k\)
æˆ–
\(q=w+x i+y j + z k\)</p>

<h4 id="ç›¸äº’è½¬æ¢">ç›¸äº’è½¬æ¢</h4>

<h6 id="å››å…ƒæ•°è½¬æ—‹è½¬çŸ©é˜µ">å››å…ƒæ•°è½¬æ—‹è½¬çŸ©é˜µ</h6>
<h6 id="æ—‹è½¬çŸ©é˜µè½¬å››å…ƒæ•°">æ—‹è½¬çŸ©é˜µè½¬å››å…ƒæ•°</h6>
<h6 id="æ¬§æ‹‰è§’è½¬æ—‹è½¬çŸ©é˜µ">æ¬§æ‹‰è§’è½¬æ—‹è½¬çŸ©é˜µ</h6>

\[R=R_z(Î±)R_y(Î²)R_x(Î³)=
\left(
    \begin{matrix}
    	cosÎ±cosÎ² &amp; cosÎ±sinÎ²sinÎ³âˆ’sinÎ±cosÎ³ &amp; cosÎ±sinÎ²cosÎ³+sinÎ±sinÎ³\\
    	sinÎ±cosÎ² &amp; cosÎ±cosÎ³+sinÎ±sinÎ²sinÎ³ &amp; sinÎ±sinÎ²cosÎ³âˆ’sinÎ³cosÎ± \\
    	âˆ’sinÎ² &amp; cosÎ²sinÎ³ &amp; cosÎ²cosÎ³
    \end{matrix}
\right)\]

<h6 id="æ—‹è½¬çŸ©é˜µè½¬æ¬§æ‹‰è§’">æ—‹è½¬çŸ©é˜µè½¬æ¬§æ‹‰è§’</h6>
<h6 id="æ¬§æ‹‰è§’è½¬å››å…ƒç´ ">æ¬§æ‹‰è§’è½¬å››å…ƒç´ </h6>
<h6 id="å››å…ƒæ•°è½¬æ¬§æ‹‰è§’">å››å…ƒæ•°è½¬æ¬§æ‹‰è§’</h6>

<p><a href="https://quaternions.online/">è¿™ä¸ªç½‘ç«™</a>å¯ä»¥åŠ¨æ€å±•ç¤ºå››å…ƒæ•°ä¸æ¬§æ‹‰è§’çš„å¯¹åº”å…³ç³»</p>

<p><a href="http://zhaoxuhui.top/blog/2018/03/13/RelationBetweenQ4&amp;R&amp;Euler.html">é˜…è¯»åŸæ–‡â¡</a></p>

<h2 id="ddsç«¯å£">DDSç«¯å£</h2>

<blockquote>
  <p>The ports (and multicast addresses) used by DDS implementations (such as RTI Connext DDS) are specified by the <a href="http://www.omg.org/spec/DDS-RTPS/">OMG DDS Interoperability Wire Protocol Specification (DDS-RTPS)</a>.By default, each DomainParticipant opens 4 UDP/IP ports: Two of those ports are multicast ports which are shared among all domain participants in the same DomainId. The other two are unicast ports which are different for each participant within a computer. The multicast IP address used for discovery is 239.255.0.1 by default consistent which the DDS-RTPS specification.</p>
</blockquote>

<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªDomainParticipantæ‰“å¼€4ä¸ªUDP/IPç«¯å£</p>

<ul>
  <li><strong>2ä¸ªç»„æ’­ç«¯å£</strong>ï¼šåŒä¸€ä¸ªdomainIdä¸‹æ‰€æœ‰participantså…±äº«</li>
  <li><strong>2ä¸ªå•æ’­ç«¯å£</strong>ï¼šæ¯ä¸ªparticipantéƒ½ä¸åŒ</li>
</ul>

<p>ç”¨ä½œå‘ç°çš„<strong>ç»„æ’­IP</strong>åœ°ï¼š<code class="language-plaintext highlighter-rouge">239.255.0.1</code></p>

<blockquote>
  <p>The ports used are given by a formula that depends on the DDS domainId and the number of participants that are already running on the same operating system instance (computer or virtual machines):</p>
</blockquote>

<p>ç«¯å£åˆ†é…ä¾èµ–<code class="language-plaintext highlighter-rouge">DmainId</code>å’Œ<code class="language-plaintext highlighter-rouge">participantæ•°é‡</code></p>

<blockquote>
  <p>Multicast Ports (common to all applications on a domainId):</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DiscoveryMulticastPort  =   PB + DG * domainId + d0
UserMulticastPort	=   PB + DG * domainId + d2
</code></pre></div>  </div>

  <p>Unicast Ports (different for each participant running on a single operating system instance. Computer or VM):</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DiscoveryUnicastPort    =   PB + DG * domainId + d1 + PG * participantId
UserUnicastPort         =   PB + DG * domainId + d3 + PG * participantId
</code></pre></div>  </div>

  <p>These formulas are depend on two variables: domainId and participantId</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>domainId      - Is the DDS domainId
participantId - Is an integer starting at 0 that enumerates each participant 
                that runs on a given operating system instance (computer 
                or virtual machine). 
                The first participant will be 0, the second 1, etc.
</code></pre></div>  </div>

  <p>The formulas are parameterized by the constants d0, d1, d2, d3, PB, DG, and PG which are all defined in the OMG DDS Interoperability Wire Protocol Specification (DDS-RTPS) as follows:</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>d0  (builtin_multicast_port_offset)    = 0
d2  (user_multicast_port_offset)       = 1 
d1  (builtin_unicast_port_offset)      = 10
d3  (user_unicast_port_offset)         = 11
PB  (port_base)             = 7400
DG ( domain_id_gain)        = 250
PG  (participant_id_gain)   = 2
</code></pre></div>  </div>

</blockquote>

<p>å…¬å¼ä¸­ä½¿ç”¨çš„å¸¸æ•°æ˜¯DDSåè®®ç¼–è¯‘çš„é»˜è®¤å€¼ã€‚</p>

<p>å¯ä»¥é€šè¿‡<code class="language-plaintext highlighter-rouge">DomainParticipantQos</code>é‡Œé¢çš„<code class="language-plaintext highlighter-rouge">WireProtocolQosPolicy</code>æ”¹å˜ç«¯å£æ˜ å°„ã€‚</p>

<p><a href="https://community.rti.com/content/forum-topic/statically-configure-firewall-let-omg-dds-traffic-through">é˜…è¯»åŸæ–‡â¡</a></p>

<h2 id="ä¸€ä¸ªäººé«˜åº¦è‡ªå¾‹çš„3ç§è¿¹è±¡">ä¸€ä¸ªäººé«˜åº¦è‡ªå¾‹çš„3ç§è¿¹è±¡</h2>

<p>ä¸€ä¸ªäººé«˜åº¦è‡ªå¾‹çš„3ç§è¿¹è±¡ï¼š</p>

<p><strong>è¯»ä¸å–œæ¬¢ä½†æœ‰ä»·å€¼çš„ä¹¦</strong>ï¼Œæ‰èƒ½å®ç°è®¤çŸ¥çªå›´ã€‚</p>

<p><strong>åšä¸å®¹æ˜“ä½†æ­£ç¡®çš„äº‹</strong>ï¼Œæ‰èƒ½ä¸æ–­æå‡è‡ªå·±ã€‚</p>

<p><strong>è¿œç¦»æ¶ˆè€—è‡ªå·±çš„æœ‹å‹</strong>ï¼Œæ‰èƒ½èå…¥é«˜è´¨é‡çš„æœ‹å‹åœˆã€‚</p>

<p>æ²‰æµ¸åœ¨èˆ’é€‚åŒºï¼Œå®¹æ˜“å˜å¾—æ¶ˆæé¢“åºŸã€‚é«˜åº¦è‡ªå¾‹çš„äººï¼Œæ‰èƒ½è·å¾—çœŸæ­£çš„è‡ªç”±ã€‚</p>

<p>æ„¿æˆ‘ä»¬éƒ½èƒ½ä¸æ–­ä¿®ç‚¼è‡ªå·±ï¼Œæœ€ç»ˆæ´»æˆè‡ªå·±å–œæ¬¢çš„æ¨¡æ ·ã€‚</p>

<p>ç¾å¥½ä¸€å¤©ä»â€œè‡ªå¾‹â€å¼€å§‹ï¼</p>



  </div>
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/DailyRead/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 æ¯æ—¥é˜…è¯». Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/DailyRead/assets/js/main.min.js"></script>










  </body>
</html>
